# Backend Dockerfile for WASM compilation and watching
FROM rust:1.93-bookworm

# Install wasm-pack and cargo-watch
RUN cargo install wasm-pack bacon --locked

# Add wasm target
RUN rustup target add wasm32-unknown-unknown

WORKDIR /app

# Copy Rust project files
COPY Cargo.toml Cargo.lock* bacon.toml ./

CMD ["bacon", "wasm-build", "--headless"]

    

